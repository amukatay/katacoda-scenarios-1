
Для того, чтобы использовать проверку на конкретном шаге, необходимо:

1. В index.json добавить параметр "checkPolicyName" для конкретного шага, значение которого равно имени проверки.

В этом упражнении используется проверка с именем checkfile на первом шаге:

<pre>
{
"title": "Как сделать промежуточную проверку",
"text": "step0.md",
"checkPolicyName": "checkfile"
}, ...
</pre>

2. Создать и заполнить файлы с именем проверки в папке rules. В данном упражнении это checkfile.sh и checkfile.rego

## Демонстрация промежуточной проверки
Создадим тестовый файл, наличие которого будет проверять проверка этого шага
```
touch ~/testfile
```{{execute}}

Если вы попытаетесь перейти на следующий шаг без создания файла, то получите ошибку и останетесь на текущем шаге.

Обратите внимание, что если вы успешно прошли проверку и снова вернетесь на предыдущий шаг, то проверка не будет запущена.

Вы также можете использовать одну и ту же проверку для разных шагов, в этом случае проверка сработает в каждом таком шаге.
